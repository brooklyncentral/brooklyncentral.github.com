<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <title>Maven Build</title>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

  <link rel="stylesheet" type="text/css" href="/style/main.css" />
  <link rel="stylesheet" type="text/css" href="/style/page.css" />
  <link rel="stylesheet" type="text/css" href="/style/toc.css" />
  <link rel="stylesheet" type="text/css" href="/style/docs/code.css" />
  
	<!-- Sidebar/ToC Scripts and CSS -->
	<script src="/style/js/jquery/jquery-1.7.1.min.js"></script>
	<script src="/style/js/jquery/jquery-ui-1.8.18.custom.min.js"></script>
	<link rel="stylesheet" type="text/css" href="/style/js/jquery/smoothness/jquery-ui-1.8.18.custom.css" />

	<script>
	$(function() {
		$('#simple_google').submit(function() {
      		$('input[name="q"]').val("site:" + document.location.hostname + " " + $('input[name="qfront"]').val());
        return true;
		});
    });
	</script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-30530918-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</head>

<body>
  <div id="all">

    <div id="page_header" class="page_row">
     <table width="100%"><tr><td rowspan="2">
      <div id="header_logo">
        <a href = "/"><img height="68" width="220" border='0' src="/style/brooklyn-logo.png"/></a>
      </div>
     </td><td align="right" valign="top" width="100%">
        <div id="top-right-quick-links">
            <a href="/meta/contact.html">Contact</a> &nbsp;|&nbsp;
            <a href="/start/download.html">Download</a> &nbsp;|&nbsp;
            <a href="https://twitter.com/#!/search?q=brooklyncentral">Twitter</a>
        </div>
     </td></tr>
     <tr><td valign="bottom">
     </td></tr></table>
    </div>

    





<div id="topbar">
<table height="100%"><tr style="vertical-align: middle;"><td width="100%" align="left" style="padding-bottom: 12px; padding-left: 18px;">

  
  
  <a class="topbar-item " href="/index.html">Overview</a>

  
  
  <a class="topbar-item " href="/start/download.html">Download</a>

  
  
  <a class="topbar-item " href="/start/walkthrough/index.html">Walkthrough</a>

  
  
  <a class="topbar-item " href="/use/guide/index.html">Guide</a>

  
  
  <a class="topbar-item " href="/use/examples/index.html">Examples</a>

  
  
  <a class="topbar-item toc-active" href="/dev/code/index.html">Contributing</a>

</td><td align="right" style="padding-top: 5px; padding-right: 18px;">
      <div id="search_box">
        <form id="simple_google" action="http://www.google.com/search" method="get">
        <input name="q" type="hidden" />
        <input name="qfront" type="text" placeholder='Search'/></p>
        </form>
      </div>
</td></table>

</div>

    <div class="page_row">


      <div id="page_content">
        
  







    
    
        
        
    
        
        
    
        
        
    
        
        
    

    
    
        
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
        
            
        
            
        
    
        
        
    
        
        
    

    
    
        
        
            
        
            
        
            
        
            
        
    
        
            
            
            
            
        
        
            
                
                
                
                
                
                
            
        
            
        
            
        
    
        
        
            
        
            
        
            
        
            
        
    
        
        
    
        
        
            
        
            
        
            
        
    
        
        
    

    
    
        
        
    
        
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
        
    
        
        
    
        
        
    




<div class="breadcrumbs">
    <span class="breadcrumb-item bc1"><a class='breadcrumb bc1' href="/dev/code/index.html">Contributing</a></span>
    
        <span class="bcsep bc1">&raquo;</span> <span class="breadcrumb-item bc2"><a class='breadcrumb bc2' href="/dev/build/index.html">Build and Test</a></span>
        
            <span class="bcsep bc2">&raquo;</span> <span class="breadcrumb-item bc2"><a class='breadcrumb bc3' href="/dev/build/index.html">Maven</a></span>
        
    
</div>

<!-- FIND HIERARCHY IN TOC AND USE THAT
        
        
        <span class="breadcrumb-item"><a class='breadcrumb' href="/">Home</a></span>
        
 -->
 
		
		<h1 id="header_title">Maven Build</h1>
		<hr/>

		<h2>The Basics</h2>

<p>To build the code, you need Maven (v3) installed and Java (1.6).
With that in place, you should be able to build everything with a:</p>

<div class="highlight"><pre><code class="bash">brooklyn% mvn clean install
</code></pre>
</div>


<p>Key things to note if you're new to Maven:</p>

<ul>
<li><p>You can do this in specific projects as well.</p></li>
<li><p>Add <code>-DskipTests</code> to skip tests.</p></li>
<li><p>Run <code>-PIntegration</code> to run integration tests, or <code>-PLive</code> to run live tests
(<a href="tests.html">tests described here</a>)</p></li>
<li><p>Nearly all the gory details are in the root <code>pom.xml</code>, which is referenced by child project poms.</p></li>
<li><p>You can also open and use the code in your favourite IDE,
although you may hit a few <strong><a href="ide.html">snags</a></strong>
(that link has some tips for resolving them too)</p></li>
</ul>


<h2>Other Handy Hints</h2>

<ul>
<li><p>On some <strong>Ubuntu</strong> (e.g. 10.4 LTS) maven v3 is not currently available from the repositories.
Some instructions for installing at are <a href="http://superuser.com/questions/298062/how-do-i-install-maven-3">at superuser.com</a>.</p></li>
<li><p>The <strong>mvnf</strong> script
(<a href="https://gist.github.com/2241800">get the gist here</a>)
simplifies building selected projects, so if you just change something in <code>software-webapp</code>
and then want to re-run the examples you can do:</p>

<p><code>examples/simple-web-cluster% mvnf ../../{software/webapp,usage/all}</code></p></li>
</ul>


<h2>Appendix: Sample Output</h2>

<p>A healthy build will look something like the following,
including a few warnings (which we have looked into and
understand to be benign and hard to get rid of them,
although we'd love to if anyone can help!):</p>

<div class="highlight"><pre><code class="bash">brooklyn% mvn clean install
<span class="o">[</span>INFO<span class="o">]</span> Scanning <span class="k">for </span>projects...
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> Reactor Build Order:
<span class="o">[</span>INFO<span class="o">]</span> 
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Parent Project
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn API
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Test Support
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Core

...

Mar 29, 2012 4:30:17 PM java.util.jar.Attributes <span class="nb">read</span>
WARNING: Duplicate name in Manifest: Manifest-Version.
Ensure that the manifest does not have duplicate entries, and
that blank lines separate individual sections in both your
manifest and in the META-INF/MANIFEST.MF entry in the jar file.

...

<span class="o">[</span>WARNING<span class="o">]</span> We have a duplicate org/jclouds/cloudsigma/CloudSigmaAsyncClient.class in 
/Users/alex/.m2/repository/org/jclouds/provider/cloudsigma-zrh/1.4.0/cloudsigma-zrh-1.4.0.jar

...

<span class="o">[</span>INFO<span class="o">]</span> --- maven-jar-plugin:2.3.1:jar <span class="o">(</span>default-jar<span class="o">)</span> @ brooklyn-all ---
<span class="o">[</span>WARNING<span class="o">]</span> JAR will be empty - no content was marked <span class="k">for </span>inclusion!

...

<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> Reactor Summary:
<span class="o">[</span>INFO<span class="o">]</span> 
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Parent Project ........................... SUCCESS <span class="o">[</span>0.813s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn API ...................................... SUCCESS <span class="o">[</span>6.115s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Test Support ............................. SUCCESS <span class="o">[</span>4.592s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Core ..................................... SUCCESS <span class="o">[</span>1:20.536s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Policies ................................. SUCCESS <span class="o">[</span>57.996s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Software Base ............................ SUCCESS <span class="o">[</span>29.869s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn OSGi Software Entities ................... SUCCESS <span class="o">[</span>9.392s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Web App Software Entities ................ SUCCESS <span class="o">[</span>49.606s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Messaging Software Entities .............. SUCCESS <span class="o">[</span>12.198s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn NoSQL Data Store Software Entities ....... SUCCESS <span class="o">[</span>9.205s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Database Software Entities ............... SUCCESS <span class="o">[</span>7.815s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Whirr Base Entities ...................... SUCCESS <span class="o">[</span>21.292s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Hadoop System Entities ................... SUCCESS <span class="o">[</span>9.972s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn OpenShift PaaS System Entities ........... SUCCESS <span class="o">[</span>11.857s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Web Console .............................. SUCCESS <span class="o">[</span>1:00.814s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Launcher ................................. SUCCESS <span class="o">[</span>1:00.603s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn All Things ............................... SUCCESS <span class="o">[</span>23.358s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> hello-world-webapp Maven Webapp ................... SUCCESS <span class="o">[</span>2.521s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Simple Web Cluster Example ............... SUCCESS <span class="o">[</span>5.860s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> Brooklyn Hadoop and Whirr Example ................. SUCCESS <span class="o">[</span>4.892s<span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> BUILD SUCCESS
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
<span class="o">[</span>INFO<span class="o">]</span> Total <span class="nb">time</span>: 7:52.328s
<span class="o">[</span>INFO<span class="o">]</span> Finished at: Thu Mar 29 16:30:17 BST 2012
<span class="o">[</span>INFO<span class="o">]</span> Final Memory: 180M/528M
<span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
</code></pre>
</div>




      </div>

      <div id="page_toc">
        <!-- Sidebar -->
        
<div id="sidebar_image"><img width="204" src="/style/brooklyn-bridge-v2.png"/></div>
<br/>


  






<div id="sidebar_toc">

    
    
    
    
	  <div class="toc-1 ">
  
	    <a href="/start/index.html"><div class="toc-1-item toc-1-header ">Start</div></a>
        <div class="toc-1-children">
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/index.html"><div class="toc-2-item">Overview</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/start/walkthrough/index.html"><div class="toc-2-item">Walkthrough</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/start/download.html"><div class="toc-2-item">Download</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/start/docs-summary.html"><div class="toc-2-item">Documentation</div></a>
      
          </div>
    
        </div>
  
      </div>

    
    
    
    
	  <div class="toc-1 ">
  
	    <a href="/use/index.html"><div class="toc-1-item toc-1-header ">Using brooklyn</div></a>
        <div class="toc-1-children">
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/use/guide/index.html"><div class="toc-2-item toc-2-header">User Guide</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 ">
	            <a href="/use/guide/quickstart/index.html"><div class="toc-3-item">Quick Start</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/use/guide/defining-applications/basic-concepts.html"><div class="toc-3-item">Defining Applications</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/use/guide/management/index.html"><div class="toc-3-item">Management</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/use/guide/policies/index.html"><div class="toc-3-item">Policies</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/use/guide/entities/index.html"><div class="toc-3-item">Custom Entities</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/use/guide/extras/index.html"><div class="toc-3-item">Extras</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/use/examples/index.html"><div class="toc-2-item toc-2-header">Examples</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 ">
	            <a href="/use/examples/webcluster/index.html"><div class="toc-3-item">Elastic Web Cluster</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/use/examples/whirrhadoop/index.html"><div class="toc-3-item">Whirr Hadoop Cluster</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/use/api/index.html"><div class="toc-2-item">API Reference</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/use/contact.html"><div class="toc-2-item">Discuss</div></a>
      
          </div>
    
        </div>
  
      </div>

    
    
    
    
	  <div class="toc-1 toc-active">
  
	    <a href="/dev/code/index.html"><div class="toc-1-item toc-1-header ">Contributing</div></a>
        <div class="toc-1-children">
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/dev/code/index.html"><div class="toc-2-item toc-2-header">The Code</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 ">
	            <a href="/dev/code/index.html"><div class="toc-3-item">Structure</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/code/entity.html"><div class="toc-3-item">Writing an Entity</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/code/policy.html"><div class="toc-3-item">Writing a Policy</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="http://github.com/brooklyncentral"><div class="toc-3-item">Git Repository (github)</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        
        
	      <div class="toc-2 toc-active">
      
	        <a href="/dev/build/index.html"><div class="toc-2-item toc-2-header">Build and Test</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 toc-active">
	            <a href="/dev/build/index.html"><div class="toc-3-item toc-active">Maven</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/build/ide.html"><div class="toc-3-item">IDE</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/build/tests.html"><div class="toc-3-item">Tests</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/dev/tips/index.html"><div class="toc-2-item toc-2-header">Tips and Tricks</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 ">
	            <a href="/dev/tips/index.html"><div class="toc-3-item">Miscellany</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/tips/logging.html"><div class="toc-3-item">Logging</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/tips/standards.html"><div class="toc-3-item">Code Standards</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/dev/tips/update-docs.html"><div class="toc-3-item">Updating Docs</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/dev/wishlist.html"><div class="toc-2-item">Wishlist</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/dev/links.html"><div class="toc-2-item toc-2-header">Links</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 ">
	            <a href="https://github.com/brooklyncentral/brooklyn"><div class="toc-3-item">Github code</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="https://github.com/brooklyncentral/brooklyn/issues"><div class="toc-3-item">Github issues</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="http://ccweb.cloudsoftcorp.com/maven/libs-snapshot-local/io/brooklyn/"><div class="toc-3-item">Maven snapshots</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/dev/how-to-contrib.html"><div class="toc-2-item">How to Contribute</div></a>
      
          </div>
    
        </div>
  
      </div>

    
    
    
    
	  <div class="toc-1 ">
  
	    <a href="/license/index.html"><div class="toc-1-item toc-1-header ">License</div></a>
        <div class="toc-1-children">
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/license/license.html"><div class="toc-2-item">Apache License v2.0</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/license/contributor-agreements/index.html"><div class="toc-2-item toc-2-header">Contributor Agreements</div></a>
            <div class="toc-2-children-popup"><div class="toc-2-children">
        
            
              <div class="toc-3 ">
	            <a href="/license/contributor-agreements/index.html"><div class="toc-3-item">Instructions</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/license/contributor-agreements/individual.html"><div class="toc-3-item">Individual CLA (echosign)</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/license/contributor-agreements/corporate.html"><div class="toc-3-item">Corporate CLA (echosign)</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/license/contributor-agreements/corporate-update-schedule.html"><div class="toc-3-item">CCLA Schedule A Update (echosign)</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/license/contributor-agreements/brooklyn-icla.txt"><div class="toc-3-item">Individual CLA (raw text)</div></a>
              </div>
        
            
              <div class="toc-3 ">
	            <a href="/license/contributor-agreements/brooklyn-ccla.txt"><div class="toc-3-item">Corporate CLA (raw text)</div></a>
              </div>
        
            </div></div>
      
          </div>
    
        </div>
  
      </div>

    
    
    
    
	  <div class="toc-1 ">
  
	    <a href="/meta/governance.html"><div class="toc-1-item toc-1-header ">Meta</div></a>
        <div class="toc-1-children">
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/meta/governance.html"><div class="toc-2-item">Governance</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/meta/versions.html"><div class="toc-2-item">Versions</div></a>
      
          </div>
    
        
        
	      <div class="toc-2 ">
      
	        <a href="/meta/contact.html"><div class="toc-2-item">Contact</div></a>
      
          </div>
    
        </div>
  
      </div>
 
</div>
<br/>

      </div>

    </div>

    <div class="page_row"/>

<hr/>

    <div id="page_footer" class="page_row">
      <b>brooklyn is distributed under the Apache License v2.0.</b><br/>
      brooklyn is a registered trademark of Cloudsoft Corporation.<br/>
      &copy; 2012 Cloudsoft Corporation.
    </div>

  </div>

</body>
</html>
