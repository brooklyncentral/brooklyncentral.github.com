<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (1.8.6) on Tue May 14 18:02:03 BST 2013 -->
<title>SshjTool (Brooklyn)</title>
<meta name="date" content="2013-05-14">
<link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SshjTool (Brooklyn)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Brooklyn</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?brooklyn/util/internal/ssh/sshj/SshjTool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SshjTool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;<A HREF="#nested_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
brooklyn.util.internal.ssh.sshj</FONT>
<BR>

<span CLASS="ClassTitleFont">[Java] Class SshjTool</span></H2>
<pre>java.lang.Object
  <img src='../../../../../inherit.gif'><a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html'>brooklyn.util.internal.ssh.SshAbstractTool</a>
      <img src='../../../../../inherit.gif'>brooklyn.util.internal.ssh.sshj.SshjTool
</pre><dl><dt><b>All Implemented Interfaces:</b> </dt><dd><a href='../../../../../brooklyn/util/internal/ssh/SshTool.html'>SshTool</a></dd></dl><hr>
<PRE>public&nbsp;class SshjTool
extends <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html'>SshAbstractTool</a>

</PRE>

<P>
 For ssh and scp-style commands, using the sshj library.
 <p>
 The implementation is based on a combination of the existing brooklyn SshJschTool,
 and the jclouds SshjSshClient.
 <p>
 Not thread-safe. Use a different SshjTool for each concurrent thread. 
 If passing from one thread to another, ensure code goes through a synchronized block.
 
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Nested Class Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;class</CODE></FONT></TD>
        <TD>
            <CODE><a href='../../../../../brooklyn/util/internal/ssh/sshj/SshjTool.Builder.html'>SshjTool.Builder</a></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;<a href='../../../../../brooklyn/util/internal/ssh/BackoffLimitedRetryHandler.html'>BackoffLimitedRetryHandler</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#backoffLimitedRetryHandler">backoffLimitedRetryHandler</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;int</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#sshTries">sshTries</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>protected&nbsp;int</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#sshTriesTimeout">sshTriesTimeout</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Fields inherited from class <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html'>SshAbstractTool</a></b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'><a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#allocatePTY'>allocatePTY</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#host'>host</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#localTempDir'>localTempDir</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#password'>password</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#port'>port</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#privateKeyData'>privateKeyData</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#privateKeyFile'>privateKeyFile</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#privateKeyPassphrase'>privateKeyPassphrase</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#strictHostKeyChecking'>strictHostKeyChecking</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#toString'>toString</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#user'>user</a></td></tr>
                </table>
                &nbsp;

<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#SshjTool(java.util.Map)">SshjTool</a></b>(java.util.Map map)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#SshjTool(brooklyn.util.internal.ssh.sshj.SshjTool.Builder)">SshjTool</a></b>(<a href='../../../../../brooklyn/util/internal/ssh/sshj/SshjTool.Builder.html'>SshjTool.Builder</a> builder)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#acquire(C)">acquire</a></b>(<a href='../../../../../C.html'>C</a> connection)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#allocatePTY(Session)">allocatePTY</a></b>(<a href='../../../../../Session.html'>Session</a> s)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#backoffForAttempt(int, java.lang.String)">backoffForAttempt</a></b>(int retryAttempt, java.lang.String message)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>static&nbsp;<a href='../../../../../brooklyn/util/internal/ssh/sshj/SshjTool.Builder.html'>SshjTool.Builder</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#builder()">builder</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#checkConnected()">checkConnected</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#connect()">connect</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#connect(int)">connect</a></b>(int maxAttempts)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#copyFromServer(java.util.Map, java.lang.String, java.io.File)">copyFromServer</a></b>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.io.File localFile)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#copyToServer(java.util.Map, byte[], java.lang.String)">copyToServer</a></b>(java.util.Map props, byte[] contents, java.lang.String pathAndFileOnRemoteServer)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#copyToServer(java.util.Map, java.io.InputStream, java.lang.String)">copyToServer</a></b>(java.util.Map props, java.io.InputStream contents, java.lang.String pathAndFileOnRemoteServer)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#copyToServer(java.util.Map, java.io.File, java.lang.String)">copyToServer</a></b>(java.util.Map props, java.io.File localFile, java.lang.String pathAndFileOnRemoteServer)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#createFile(java.util.Map, java.lang.String, java.io.InputStream, long)">createFile</a></b>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.io.InputStream input, long size)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#createFile(java.util.Map, java.lang.String, java.lang.String)">createFile</a></b>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.lang.String contents)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#createFile(java.util.Map, java.lang.String, byte[])">createFile</a></b>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, byte[] contents)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#disconnect()">disconnect</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execCommands(java.util.Map, java.util.List)">execCommands</a></b>(java.util.Map props, java.util.List commands)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execCommands(java.util.Map, java.util.List, java.util.Map)">execCommands</a></b>(java.util.Map props, java.util.List commands, java.util.Map env)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execScript(java.util.Map, java.util.List)">execScript</a></b>(java.util.Map props, java.util.List commands)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execScript(java.util.Map, java.util.List, java.util.Map)">execScript</a></b>(java.util.Map props, java.util.List commands, java.util.Map env)</CODE>
            <BR>
            <P>This creates a script containing the user's commands, copies it to the remote server, and
 executes the script. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execShell(java.util.Map, java.util.List)">execShell</a></b>(java.util.Map props, java.util.List commands)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execShell(java.util.Map, java.util.List, java.util.Map)">execShell</a></b>(java.util.Map props, java.util.List commands, java.util.Map env)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#execShellDirect(java.util.Map, java.util.List, java.util.Map)">execShellDirect</a></b>(java.util.Map props, java.util.List commands, java.util.Map env)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isConnected()">isConnected</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;<a href='../../../../../SshAction.html'>SshAction</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#newSessionAction()">newSessionAction</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#transferFileFrom(java.util.Map, java.lang.String, java.lang.String)">transferFileFrom</a></b>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.lang.String pathAndFileOnLocalServer)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#transferFileTo(java.util.Map, java.io.InputStream, java.lang.String)">transferFileTo</a></b>(java.util.Map props, java.io.InputStream input, java.lang.String pathAndFileOnRemoteServer)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html'>SshAbstractTool</a></b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'><a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#SshAbstractTool(brooklyn.util.internal.ssh.SshAbstractTool.AbstractToolBuilder)'>SshAbstractTool</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#closeWhispering(java.io.Closeable, java.lang.Object)'>closeWhispering</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getHostAddress()'>getHostAddress</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getMandatoryVal(java.util.Map, brooklyn.config.ConfigKey)'>getMandatoryVal</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getMandatoryVal(java.util.Map, java.lang.String, java.lang.Class)'>getMandatoryVal</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getOptionalVal(java.util.Map, brooklyn.config.ConfigKey)'>getOptionalVal</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getOptionalVal(java.util.Map, brooklyn.config.ConfigKey, java.lang.Object)'>getOptionalVal</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getOptionalVal(java.util.Map, java.lang.String, java.lang.Class, java.lang.Object)'>getOptionalVal</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#getUsername()'>getUsername</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#hasVal(java.util.Map, brooklyn.config.ConfigKey)'>hasVal</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#propagate(java.lang.Exception, java.lang.String)'>propagate</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#toCommandSequence(java.util.List, java.util.Map)'>toCommandSequence</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#toScript(java.util.Map, java.util.List, java.util.Map)'>toScript</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#toString()'>toString</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#warnOnDeprecated(java.util.Map, java.lang.String, java.lang.String)'>warnOnDeprecated</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#writeTempFile(java.io.InputStream)'>writeTempFile</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#writeTempFile(java.lang.String)'>writeTempFile</a>, <a href='../../../../../brooklyn/util/internal/ssh/SshAbstractTool.html#writeTempFile(byte[])'>writeTempFile</a></td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Field Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="backoffLimitedRetryHandler"><!-- --></A><H3>backoffLimitedRetryHandler</H3>
        <PRE>protected&nbsp;final&nbsp;<a href='../../../../../brooklyn/util/internal/ssh/BackoffLimitedRetryHandler.html'>BackoffLimitedRetryHandler</a> <B>backoffLimitedRetryHandler</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="sshTries"><!-- --></A><H3>sshTries</H3>
        <PRE>protected&nbsp;final&nbsp;int <B>sshTries</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="sshTriesTimeout"><!-- --></A><H3>sshTriesTimeout</H3>
        <PRE>protected&nbsp;final&nbsp;int <B>sshTriesTimeout</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="SshjTool(java.util.Map)"><!-- --></A><H3>
        SshjTool</H3>
        <PRE>public&nbsp;java.lang.Object <B>SshjTool</B>(java.util.Map map)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="SshjTool(brooklyn.util.internal.ssh.sshj.SshjTool.Builder)"><!-- --></A><H3>
        SshjTool</H3>
        <PRE>protected&nbsp;java.lang.Object <B>SshjTool</B>(<a href='../../../../../brooklyn/util/internal/ssh/sshj/SshjTool.Builder.html'>SshjTool.Builder</a> builder)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="acquire(C)"><!-- --></A><H3>
        acquire</H3>
        <PRE>protected&nbsp;java.lang.Object <B>acquire</B>(<a href='../../../../../C.html'>C</a> connection)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="allocatePTY(Session)"><!-- --></A><H3>
        allocatePTY</H3>
        <PRE>protected&nbsp;void <B>allocatePTY</B>(<a href='../../../../../Session.html'>Session</a> s)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="backoffForAttempt(int, java.lang.String)"><!-- --></A><H3>
        backoffForAttempt</H3>
        <PRE>protected&nbsp;void <B>backoffForAttempt</B>(int retryAttempt, java.lang.String message)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="builder()"><!-- --></A><H3>
        builder</H3>
        <PRE>public&nbsp;static&nbsp;<a href='../../../../../brooklyn/util/internal/ssh/sshj/SshjTool.Builder.html'>SshjTool.Builder</a> <B>builder</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="checkConnected()"><!-- --></A><H3>
        checkConnected</H3>
        <PRE>protected&nbsp;void <B>checkConnected</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="connect()"><!-- --></A><H3>
        connect</H3>
        <PRE>@Override
public&nbsp;void <B>connect</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="connect(int)"><!-- --></A><H3>
        connect</H3>
        <PRE>@Override
public&nbsp;void <B>connect</B>(int maxAttempts)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="copyFromServer(java.util.Map, java.lang.String, java.io.File)"><!-- --></A><H3>
        copyFromServer</H3>
        <PRE>@Override
public&nbsp;int <B>copyFromServer</B>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.io.File localFile)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="copyToServer(java.util.Map, byte[], java.lang.String)"><!-- --></A><H3>
        copyToServer</H3>
        <PRE>@Override
public&nbsp;int <B>copyToServer</B>(java.util.Map props, byte[] contents, java.lang.String pathAndFileOnRemoteServer)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="copyToServer(java.util.Map, java.io.InputStream, java.lang.String)"><!-- --></A><H3>
        copyToServer</H3>
        <PRE>@Override
public&nbsp;int <B>copyToServer</B>(java.util.Map props, java.io.InputStream contents, java.lang.String pathAndFileOnRemoteServer)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="copyToServer(java.util.Map, java.io.File, java.lang.String)"><!-- --></A><H3>
        copyToServer</H3>
        <PRE>@Override
public&nbsp;int <B>copyToServer</B>(java.util.Map props, java.io.File localFile, java.lang.String pathAndFileOnRemoteServer)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="createFile(java.util.Map, java.lang.String, java.io.InputStream, long)"><!-- --></A><H3>
        createFile</H3>
        <PRE>@Override
public&nbsp;int <B>createFile</B>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.io.InputStream input, long size)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="createFile(java.util.Map, java.lang.String, java.lang.String)"><!-- --></A><H3>
        createFile</H3>
        <PRE>@Override
public&nbsp;int <B>createFile</B>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.lang.String contents)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="createFile(java.util.Map, java.lang.String, byte[])"><!-- --></A><H3>
        createFile</H3>
        <PRE>@Override
public&nbsp;int <B>createFile</B>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, byte[] contents)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="disconnect()"><!-- --></A><H3>
        disconnect</H3>
        <PRE>@Override
public&nbsp;void <B>disconnect</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execCommands(java.util.Map, java.util.List)"><!-- --></A><H3>
        execCommands</H3>
        <PRE>@Override
public&nbsp;int <B>execCommands</B>(java.util.Map props, java.util.List commands)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execCommands(java.util.Map, java.util.List, java.util.Map)"><!-- --></A><H3>
        execCommands</H3>
        <PRE>@Override
public&nbsp;int <B>execCommands</B>(java.util.Map props, java.util.List commands, java.util.Map env)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execScript(java.util.Map, java.util.List)"><!-- --></A><H3>
        execScript</H3>
        <PRE>@Override
public&nbsp;int <B>execScript</B>(java.util.Map props, java.util.List commands)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execScript(java.util.Map, java.util.List, java.util.Map)"><!-- --></A><H3>
        execScript</H3>
        <PRE>@Override
public&nbsp;int <B>execScript</B>(java.util.Map props, java.util.List commands, java.util.Map env)</PRE>
        <DL>
        <DD> This creates a script containing the user's commands, copies it to the remote server, and
 executes the script. The script is then deleted.
 <p>
 Executing commands directly is fraught with dangers! Here are other options, and their problems:
 <ul>
   <li>Use execCommands, rather than shell.
       The user's environment will not be setup normally (e.g. ~/.bash_profile will not have been sourced)
       so things like wget may not be on the PATH.
   <li>Send the stream of commands to the shell.
       But characters being sent can be lost.
       Try the following (e.g. in an OS X terminal):
        - sleep 5
        - <paste a command that is 1000s of characters long>
       Only the first 1024 characters appear. The rest are lost.
       If sending a stream of commands, you need to be careful not send the next (big) command while the
       previous one is still executing.
   <li>Send a stream to the shell, but spot when the previous command has completed.
       e.g. by looking for the prompt (but what if the commands being executed change the prompt?)
       e.g. by putting every second command as "echo <uid>", and waiting for the stdout.
       This gets fiddly...
 </ul>
 
 So on balance, the script-based approach seems most reliable, even if there is an overhead
 of separate message(s) for copying the file!
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execShell(java.util.Map, java.util.List)"><!-- --></A><H3>
        execShell</H3>
        <PRE>public&nbsp;int <B>execShell</B>(java.util.Map props, java.util.List commands)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execShell(java.util.Map, java.util.List, java.util.Map)"><!-- --></A><H3>
        execShell</H3>
        <PRE>public&nbsp;int <B>execShell</B>(java.util.Map props, java.util.List commands, java.util.Map env)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="execShellDirect(java.util.Map, java.util.List, java.util.Map)"><!-- --></A><H3>
        execShellDirect</H3>
        <PRE>public&nbsp;int <B>execShellDirect</B>(java.util.Map props, java.util.List commands, java.util.Map env)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isConnected()"><!-- --></A><H3>
        isConnected</H3>
        <PRE>@Override
public&nbsp;boolean <B>isConnected</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="newSessionAction()"><!-- --></A><H3>
        newSessionAction</H3>
        <PRE>protected&nbsp;<a href='../../../../../SshAction.html'>SshAction</a> <B>newSessionAction</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="transferFileFrom(java.util.Map, java.lang.String, java.lang.String)"><!-- --></A><H3>
        transferFileFrom</H3>
        <PRE>@Override
public&nbsp;int <B>transferFileFrom</B>(java.util.Map props, java.lang.String pathAndFileOnRemoteServer, java.lang.String pathAndFileOnLocalServer)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="transferFileTo(java.util.Map, java.io.InputStream, java.lang.String)"><!-- --></A><H3>
        transferFileTo</H3>
        <PRE>@Override
public&nbsp;int <B>transferFileTo</B>(java.util.Map props, java.io.InputStream input, java.lang.String pathAndFileOnRemoteServer)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p><b>Brooklyn Multi-Cloud Application Management Platform</b> <br/> <a href="http://brooklyncentral.github.com/" target="_top">brooklyncentral.github.com</a>. Apache License. &copy; 2012.</p>
<hr>

</body>
</html>
